@mixin substance-box-shadow($box-shadow-base-size, $box-shadow-color: rgba(0,0,0,.16)) {
    $right-base: $box-shadow-base-size * .1;

    box-shadow: 
        $right-base $box-shadow-base-size 0 $box-shadow-color,
        ($right-base * 2) ($box-shadow-base-size * 2) 0 $box-shadow-color,
        ($right-base * 3) ($box-shadow-base-size * 3) 0 $box-shadow-color;
}

@mixin substance-gradient($color, $direction: down, $gradient-type: linear, $bg-color: transparent) {
    $color1: $color;
    $color2: rgba($color, .95);
    $color3: rgba($color, .9);
    $color4: rgba($color, .85);

    @if $direction == up {
        $color1: rgba($color, .85);
        $color2: rgba($color, .9);
        $color3: rgba($color, .95);
        $color4: $color;
    }

    background-color: $bg-color;

    @if $gradient-type == linear {
    background-image: linear-gradient(
        $color1 0%, 
        $color1 25%, 
        $color2 25%,
        $color2 50%,
        $color3 50%,
        $color3 75%,
        $color4 75%,
        $color4 100%
    );
    }
    @else {
        background-image: radial-gradient(
            $color1 0%, 
            $color1 25%, 
            $color2 25%,
            $color2 50%,
            $color3 50%,
            $color3 75%,
            $color4 75%,
            $color4 100%
        );
    }
}

@mixin substance-gradient-space($color: $clouds, $bg-color: #fff) {
    background-color: $bg-color;

    $color1: $color;
    $color2: rgba($color, .75);
    $colorM: rgba($color, .6);
    $color3: rgba($color, .7);
    $color4: rgba($color, .65);

    background-image: linear-gradient(
        $color1 0%, 
        $color1 12%, 
        $color2 12%,
        $color2 25%,

        $colorM 25%,
        $colorM 75%,

        $color3 75%,
        $color3 82%,
        $color4 82%,
        $color4 100%
    );       
}

@mixin control-border($color: $everything, $behavior: normal) {
    border: 1px solid rgba($color, .06);    
}

@mixin button-variant($bg-color, $color: $everything) {
	background-color: $bg-color;
	color: $color;
    transition: all .5s;
    @include control-border($color);
    @include substance-gradient($bg-color);
    @include substance-box-shadow(.2em);

    &:hover,
    &:focus {
        @include substance-gradient(lighten($bg-color, 6%));
        @include substance-box-shadow(.3em);
        // transform: scale(.9);
        transform: translateY(-.3em);
    }

    &:active {
        @include substance-gradient(darken($bg-color, 10%), down, radial);
        @include substance-box-shadow(.1em);    
        transform: translateY(.3em);
    }
}

@mixin form-control($text-color: $nothing) {
    padding: $form-control-padding;
    border-radius: $form-control-border-radius;
    transition: all .5s;
    @include control-border($text-color);

    @include substance-gradient-space();  

    &:hover {
        @include substance-gradient-space(lighten($clouds, 6%));
    }

    &:focus {
        @include substance-gradient-space(lighten($clouds, 4%));
    }
}